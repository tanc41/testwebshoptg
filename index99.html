<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <meta charset="utf-8" />
	<script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Asset Payments hosted checkout</title>
    <link rel="stylesheet" type="text/css" href="checkout.css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
</head>
<body onload="GenerateForm();">
    <div id="form" class="animated bounceInDown">
        <form class="checkout" id="paymentform" autocomplete="off">
            <div class="checkout-header">
                <h1 class="checkout-title">
                    Checkout
                    <span class="checkout-price">$11</span>
                </h1>
            </div>
            <div id="carddetails">
                <p class="cardfields"><span id="nameoncard"></span></p>
                <p class="cardfields"><span id="card"></span></p>
                <p class="cardfields"><span id="expiry"></span></p>
                <p class="cardfields"><span id="cvv"></span></p>

                <span class="field_title_error">
                    <ul>
                        <li id="error_cardNumber"></li>
                        <li id="error_cardExpiry"></li>
                        <li id="error_cardCvv"></li>
                        <li id="error_cardName"></li>
                    </ul>
                </span>
                <p>
                    <input class="checkout-btn" value="Pay" type="submit" />
                </p>

                <!--ASSET PAYMENTS PROCESSING SETTINGS-->
                <input type="hidden" data-asset-payment="paymentSystem" value="1">
                <input type="hidden" data-asset-payment="returnUrl" value="http://site.com">
                <input type="hidden" data-asset-payment="statusUrl" value="http://site.com/status">
                <input type="hidden" data-asset-payment="createToken" value="">
                <input type="hidden" data-asset-payment="createHold" value="true">
                <input type="hidden" data-asset-payment="convertText" value=""> <!-- false=No data conversion  true=AutoConversion data to latinica -->
                <input type="hidden" data-asset-payment="language" value="EN">
                <input type="hidden" data-asset-payment="formId" value="">		<!-- payment form template ID to use with popup modular form-->
                <!--ORDER DETAILS-->
                <input type="hidden" data-asset-payment="amount" value="150">
                <input type="hidden" data-asset-payment="currency" value="USD">
                <input type="hidden" data-asset-payment="altamount" value="">
                <input type="hidden" data-asset-payment="altcurrency" value="">
                <input type="hidden" data-asset-payment="orderId" value="DU-223">
                <input type="hidden" data-asset-payment="customInfo" value="Order payment">

                <!--CUSTOMER DETAILS-->
                <input type="hidden" data-asset-payment="firstName" value="Mike">
                <input type="hidden" data-asset-payment="secondName" value="Wazovsky">
                <input type="hidden" data-asset-payment="fullName" value="Mike Wazovsky">
                <input type="hidden" data-asset-payment="phone" value="+1-202-1234567">
                <input type="hidden" data-asset-payment="email" value="payment@site.com">
                <input type="hidden" data-asset-payment="userId" value="55555">

                <!--DELIVERY ADDRESS-->
                <input type="hidden" data-asset-payment="address" value="Planeta Shelezyaka">
                <input type="hidden" data-asset-payment="city" value="MartianCity">
                <input type="hidden" data-asset-payment="zone" value="Martians">
                <input type="hidden" data-asset-payment="country" value="Great Britain">
                <input type="hidden" data-asset-payment="countryIso" value="GB">
                <input type="hidden" data-asset-payment="zip" value="999-345">

                <!--CART ITEMS-->
                <div data-asset-payment="product"
                     data-asset-product-code="555-TTDBR"
                     data-asset-product-name="Teddy bear"
                     data-asset-product-imageurl="http://moviehole.net/img/New_Ted_Render.jpg"
                     data-asset-product-quantity="2"
                     data-asset-product-price="25.05"
                     data-asset-product-tax="2.00"
                     data-asset-product-taxtype="1">
                    <!-- 0=percentage, 1=value-->
                </div>
                <div data-asset-payment="product"
                     data-asset-product-code="222-BANNY"
                     data-asset-product-name="Banny funny"
                     data-asset-product-imageurl="https://thumbs.dreamstime.com/b/funny-cartoon-bunny-28944164.jpg"
                     data-asset-product-quantity="1"
                     data-asset-product-price="20.05"
                     data-asset-product-tax="5.00"
                     data-asset-product-taxtype="1">
                    <!-- 0=percentage, 1=value-->
                </div>
            </div>
            <!-- =========================
                PROCESSING ANIMATION
            ============================== -->
            <div id="processing" class="uncomplete center" style="pause: 5s 10s; display:none;">
                <div class="headings">
                    <h1>Payment processing...</h1>
                    <h2>Please wait</h2>
                </div>
                <div class="wrapper">
                    <div class="gears">
                        <div class="gear-wrapper gear-wrapper-1">
                            <svg version="1.1" class="gear gear-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                            <path class="st0" d="M507.6,232.1c0,0-9.3-3.5-36.2-6c-32.9-3-42.8-15.4-53.7-30.7h-0.2c-1.4-3.6-2.8-7.2-4.4-10.8l0.1-0.1
									c-3.1-18.6-4.8-34.3,16.3-59.7C446.7,104,450.8,95,450.8,95c-4-10.3-13.8-20-13.8-20s-9.7-9.7-20-13.8c0,0-9.1,4.1-29.8,21.4
									c-25.4,21.1-41.1,19.4-59.7,16.3l-0.1,0.1c-3.5-1.6-7.1-3.1-10.8-4.4v-0.2c-15.3-10.9-27.7-20.9-30.7-53.7c-2.5-26.9-6-36.2-6-36.2
									C269.8,0,256,0,256,0s-13.8,0-23.9,4.4c0,0-3.5,9.3-6,36.2c-3,32.9-15.4,42.8-30.7,53.7v0.2c-3.6,1.4-7.3,2.8-10.8,4.4l-0.1-0.1
									c-18.6,3.1-34.3,4.8-59.7-16.3C104,65.3,95,61.2,95,61.2C84.7,65.3,75,75,75,75s-9.7,9.7-13.8,20c0,0,4.1,9.1,21.4,29.8
									c21.1,25.4,19.4,41.1,16.3,59.7l0.1,0.1c-1.6,3.5-3.1,7.1-4.4,10.8h-0.2c-10.9,15.4-20.9,27.7-53.7,30.7c-26.9,2.5-36.2,6-36.2,6
									C0,242.3,0,256,0,256s0,13.8,4.4,23.9c0,0,9.3,3.5,36.2,6c32.9,3,42.8,15.4,53.7,30.7h0.2c1.4,3.7,2.8,7.3,4.4,10.8l-0.1,0.1
									c3.1,18.6,4.8,34.3-16.3,59.7C65.3,408,61.2,417,61.2,417c4.1,10.3,13.8,20,13.8,20s9.7,9.7,20,13.8c0,0,9-4.1,29.8-21.4
									c25.4-21.1,41.1-19.4,59.7-16.3l0.1-0.1c3.5,1.6,7.1,3.1,10.8,4.4v0.2c15.3,10.9,27.7,20.9,30.7,53.7c2.5,26.9,6,36.2,6,36.2
									C242.3,512,256,512,256,512s13.8,0,23.9-4.4c0,0,3.5-9.3,6-36.2c3-32.9,15.4-42.8,30.7-53.7v-0.2c3.7-1.4,7.3-2.8,10.8-4.4l0.1,0.1
									c18.6-3.1,34.3-4.8,59.7,16.3c20.8,17.3,29.8,21.4,29.8,21.4c10.3-4.1,20-13.8,20-13.8s9.7-9.7,13.8-20c0,0-4.1-9.1-21.4-29.8
									c-21.1-25.4-19.4-41.1-16.3-59.7l-0.1-0.1c1.6-3.5,3.1-7.1,4.4-10.8h0.2c10.9-15.3,20.9-27.7,53.7-30.7c26.9-2.5,36.2-6,36.2-6
									C512,269.8,512,256,512,256S512,242.2,507.6,232.1z M256,375.7c-66.1,0-119.7-53.6-119.7-119.7S189.9,136.3,256,136.3
									c66.1,0,119.7,53.6,119.7,119.7S322.1,375.7,256,375.7z" />

							</svg>
                        </div>
                        <div class="gear-wrapper gear-wrapper-2">
                            <svg version="1.1" class="gear gear-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                            <path class="st0" d="M507.6,232.1c0,0-9.3-3.5-36.2-6c-32.9-3-42.8-15.4-53.7-30.7h-0.2c-1.4-3.6-2.8-7.2-4.4-10.8l0.1-0.1
									c-3.1-18.6-4.8-34.3,16.3-59.7C446.7,104,450.8,95,450.8,95c-4-10.3-13.8-20-13.8-20s-9.7-9.7-20-13.8c0,0-9.1,4.1-29.8,21.4
									c-25.4,21.1-41.1,19.4-59.7,16.3l-0.1,0.1c-3.5-1.6-7.1-3.1-10.8-4.4v-0.2c-15.3-10.9-27.7-20.9-30.7-53.7c-2.5-26.9-6-36.2-6-36.2
									C269.8,0,256,0,256,0s-13.8,0-23.9,4.4c0,0-3.5,9.3-6,36.2c-3,32.9-15.4,42.8-30.7,53.7v0.2c-3.6,1.4-7.3,2.8-10.8,4.4l-0.1-0.1
									c-18.6,3.1-34.3,4.8-59.7-16.3C104,65.3,95,61.2,95,61.2C84.7,65.3,75,75,75,75s-9.7,9.7-13.8,20c0,0,4.1,9.1,21.4,29.8
									c21.1,25.4,19.4,41.1,16.3,59.7l0.1,0.1c-1.6,3.5-3.1,7.1-4.4,10.8h-0.2c-10.9,15.4-20.9,27.7-53.7,30.7c-26.9,2.5-36.2,6-36.2,6
									C0,242.3,0,256,0,256s0,13.8,4.4,23.9c0,0,9.3,3.5,36.2,6c32.9,3,42.8,15.4,53.7,30.7h0.2c1.4,3.7,2.8,7.3,4.4,10.8l-0.1,0.1
									c3.1,18.6,4.8,34.3-16.3,59.7C65.3,408,61.2,417,61.2,417c4.1,10.3,13.8,20,13.8,20s9.7,9.7,20,13.8c0,0,9-4.1,29.8-21.4
									c25.4-21.1,41.1-19.4,59.7-16.3l0.1-0.1c3.5,1.6,7.1,3.1,10.8,4.4v0.2c15.3,10.9,27.7,20.9,30.7,53.7c2.5,26.9,6,36.2,6,36.2
									C242.3,512,256,512,256,512s13.8,0,23.9-4.4c0,0,3.5-9.3,6-36.2c3-32.9,15.4-42.8,30.7-53.7v-0.2c3.7-1.4,7.3-2.8,10.8-4.4l0.1,0.1
									c18.6-3.1,34.3-4.8,59.7,16.3c20.8,17.3,29.8,21.4,29.8,21.4c10.3-4.1,20-13.8,20-13.8s9.7-9.7,13.8-20c0,0-4.1-9.1-21.4-29.8
									c-21.1-25.4-19.4-41.1-16.3-59.7l-0.1-0.1c1.6-3.5,3.1-7.1,4.4-10.8h0.2c10.9-15.3,20.9-27.7,53.7-30.7c26.9-2.5,36.2-6,36.2-6
									C512,269.8,512,256,512,256S512,242.2,507.6,232.1z M256,375.7c-66.1,0-119.7-53.6-119.7-119.7S189.9,136.3,256,136.3
									c66.1,0,119.7,53.6,119.7,119.7S322.1,375.7,256,375.7z" />

							</svg>
                        </div>
                        <div class="gear-wrapper gear-wrapper-3">
                            <svg version="1.1" class="gear gear-3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                            <path class="st0" d="M507.6,232.1c0,0-9.3-3.5-36.2-6c-32.9-3-42.8-15.4-53.7-30.7h-0.2c-1.4-3.6-2.8-7.2-4.4-10.8l0.1-0.1
									c-3.1-18.6-4.8-34.3,16.3-59.7C446.7,104,450.8,95,450.8,95c-4-10.3-13.8-20-13.8-20s-9.7-9.7-20-13.8c0,0-9.1,4.1-29.8,21.4
									c-25.4,21.1-41.1,19.4-59.7,16.3l-0.1,0.1c-3.5-1.6-7.1-3.1-10.8-4.4v-0.2c-15.3-10.9-27.7-20.9-30.7-53.7c-2.5-26.9-6-36.2-6-36.2
									C269.8,0,256,0,256,0s-13.8,0-23.9,4.4c0,0-3.5,9.3-6,36.2c-3,32.9-15.4,42.8-30.7,53.7v0.2c-3.6,1.4-7.3,2.8-10.8,4.4l-0.1-0.1
									c-18.6,3.1-34.3,4.8-59.7-16.3C104,65.3,95,61.2,95,61.2C84.7,65.3,75,75,75,75s-9.7,9.7-13.8,20c0,0,4.1,9.1,21.4,29.8
									c21.1,25.4,19.4,41.1,16.3,59.7l0.1,0.1c-1.6,3.5-3.1,7.1-4.4,10.8h-0.2c-10.9,15.4-20.9,27.7-53.7,30.7c-26.9,2.5-36.2,6-36.2,6
									C0,242.3,0,256,0,256s0,13.8,4.4,23.9c0,0,9.3,3.5,36.2,6c32.9,3,42.8,15.4,53.7,30.7h0.2c1.4,3.7,2.8,7.3,4.4,10.8l-0.1,0.1
									c3.1,18.6,4.8,34.3-16.3,59.7C65.3,408,61.2,417,61.2,417c4.1,10.3,13.8,20,13.8,20s9.7,9.7,20,13.8c0,0,9-4.1,29.8-21.4
									c25.4-21.1,41.1-19.4,59.7-16.3l0.1-0.1c3.5,1.6,7.1,3.1,10.8,4.4v0.2c15.3,10.9,27.7,20.9,30.7,53.7c2.5,26.9,6,36.2,6,36.2
									C242.3,512,256,512,256,512s13.8,0,23.9-4.4c0,0,3.5-9.3,6-36.2c3-32.9,15.4-42.8,30.7-53.7v-0.2c3.7-1.4,7.3-2.8,10.8-4.4l0.1,0.1
									c18.6-3.1,34.3-4.8,59.7,16.3c20.8,17.3,29.8,21.4,29.8,21.4c10.3-4.1,20-13.8,20-13.8s9.7-9.7,13.8-20c0,0-4.1-9.1-21.4-29.8
									c-21.1-25.4-19.4-41.1-16.3-59.7l-0.1-0.1c1.6-3.5,3.1-7.1,4.4-10.8h0.2c10.9-15.3,20.9-27.7,53.7-30.7c26.9-2.5,36.2-6,36.2-6
									C512,269.8,512,256,512,256S512,242.2,507.6,232.1z M256,375.7c-66.1,0-119.7-53.6-119.7-119.7S189.9,136.3,256,136.3
									c66.1,0,119.7,53.6,119.7,119.7S322.1,375.7,256,375.7z" />

							</svg>
                        </div>
                        <div class="gear-wrapper gear-wrapper-4">
                            <svg version="1.1" class="gear gear-4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                            <path class="st0" d="M507.6,232.1c0,0-9.3-3.5-36.2-6c-32.9-3-42.8-15.4-53.7-30.7h-0.2c-1.4-3.6-2.8-7.2-4.4-10.8l0.1-0.1
									c-3.1-18.6-4.8-34.3,16.3-59.7C446.7,104,450.8,95,450.8,95c-4-10.3-13.8-20-13.8-20s-9.7-9.7-20-13.8c0,0-9.1,4.1-29.8,21.4
									c-25.4,21.1-41.1,19.4-59.7,16.3l-0.1,0.1c-3.5-1.6-7.1-3.1-10.8-4.4v-0.2c-15.3-10.9-27.7-20.9-30.7-53.7c-2.5-26.9-6-36.2-6-36.2
									C269.8,0,256,0,256,0s-13.8,0-23.9,4.4c0,0-3.5,9.3-6,36.2c-3,32.9-15.4,42.8-30.7,53.7v0.2c-3.6,1.4-7.3,2.8-10.8,4.4l-0.1-0.1
									c-18.6,3.1-34.3,4.8-59.7-16.3C104,65.3,95,61.2,95,61.2C84.7,65.3,75,75,75,75s-9.7,9.7-13.8,20c0,0,4.1,9.1,21.4,29.8
									c21.1,25.4,19.4,41.1,16.3,59.7l0.1,0.1c-1.6,3.5-3.1,7.1-4.4,10.8h-0.2c-10.9,15.4-20.9,27.7-53.7,30.7c-26.9,2.5-36.2,6-36.2,6
									C0,242.3,0,256,0,256s0,13.8,4.4,23.9c0,0,9.3,3.5,36.2,6c32.9,3,42.8,15.4,53.7,30.7h0.2c1.4,3.7,2.8,7.3,4.4,10.8l-0.1,0.1
									c3.1,18.6,4.8,34.3-16.3,59.7C65.3,408,61.2,417,61.2,417c4.1,10.3,13.8,20,13.8,20s9.7,9.7,20,13.8c0,0,9-4.1,29.8-21.4
									c25.4-21.1,41.1-19.4,59.7-16.3l0.1-0.1c3.5,1.6,7.1,3.1,10.8,4.4v0.2c15.3,10.9,27.7,20.9,30.7,53.7c2.5,26.9,6,36.2,6,36.2
									C242.3,512,256,512,256,512s13.8,0,23.9-4.4c0,0,3.5-9.3,6-36.2c3-32.9,15.4-42.8,30.7-53.7v-0.2c3.7-1.4,7.3-2.8,10.8-4.4l0.1,0.1
									c18.6-3.1,34.3-4.8,59.7,16.3c20.8,17.3,29.8,21.4,29.8,21.4c10.3-4.1,20-13.8,20-13.8s9.7-9.7,13.8-20c0,0-4.1-9.1-21.4-29.8
									c-21.1-25.4-19.4-41.1-16.3-59.7l-0.1-0.1c1.6-3.5,3.1-7.1,4.4-10.8h0.2c10.9-15.3,20.9-27.7,53.7-30.7c26.9-2.5,36.2-6,36.2-6
									C512,269.8,512,256,512,256S512,242.2,507.6,232.1z M256,375.7c-66.1,0-119.7-53.6-119.7-119.7S189.9,136.3,256,136.3
									c66.1,0,119.7,53.6,119.7,119.7S322.1,375.7,256,375.7z" />

							</svg>
                        </div>
                    </div>
                    <!--<svg class="checkmark checkmark-success" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><circle class="checkmark-circle" cx="25" cy="25" r="25" fill="none" /><path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" /></svg>
                    <svg class="checkmark checkmark-error" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><circle class="checkmark-circle" cx="25" cy="25" r="25" fill="none" /><path class="checkmark-check" fill="none" d="M16,34L25 25 34 16 " /><path class="checkmark-check" fill="none" d="M16,16L25 25 34 34 " /></svg>-->
                </div>
            </div>
            <!-- =========================
                SUCCESS MESSAGE
            ============================== -->

            <div id="successmessage" class="uncomplete center" style="pause: 5s 10s; display:none;">
                <p align="center">
                    <h1 class="success-title" align="center">Payment successful!</h1>
                    <!--<svg class="checkmark checkmark-success" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><circle class="checkmark-circle" cx="25" cy="25" r="25" fill="none" /><path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" /></svg>-->
                    <img src="https://assetpayments.com/img/success.gif" width="100px" />
                </p>
                <p align="center">Reference number #<span id="orderId"></span></p>
                <p><input value="Close" class="checkout-btn" onclick="location.reload()" /></p>
            </div>
            <!-- =========================
                FAILED MESSAGE
            ============================== -->
            <div id="failedmessage" class="uncomplete center" style="pause: 5s 10s; display:none;">
                <p align="center">
                    <h1 class="error-title" style="color:red;" align="center">Payment failed!</h1>
                    <img src="https://assetpayments.com/img/error.png" width="100px" />
                </p>
                <p class="error_message" align="center" id="errorMessage"></p>
                <p align="center">Reference number #<span id="orderId"></span></p>
                <p><input value="Close" class="checkout-btn" onclick="location.reload()" /></p>
            </div>
        </form>
    </div>

    <!-- =========================
         SCRIPTS
    ============================== -->
    <!-- Mainly scripts -->
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script> -->
    <script src="https://forms.assetpayments.us/js/asset-payments.js"></script>
    <script>
        function GenerateForm() {
            Asset.initialize('03e5515f-7cd8-49ce-9284-5d78ff1390d9');
            Asset.addEventListener('load', function (e) {
                Asset.createElement('cardNumber', 'card', {
                    placeholder: '5363-5423-1020-0101',
                    hideCardIcons: false,
                    styles: {
                        base: {
                            styles: {
                                'color': 'black',
                                'width': '100%',
                                'border-color': 'cccccc',
                            },
                            classes: ['form-control', 'form-control-lg']
                        },
                        error: {
                            styles: {
                                'border-color': 'red',
                            },
                            classes: ['alert-danger']
                        }
                    }
                });
                Asset.createElement('cardExpiry', 'expiry', {
                    placeholder: 'MM/YYYY',
                    styles: {
                        base: {
                            styles: {
                                'color': 'black',
                                'width': '100%',
                                'border-color': 'cccccc',
                            },
                            classes: ['form-control', 'form-control-lg']
                        },
                        error: {
                            styles: {
                                'border-color': 'red',
                            },
                            classes: ['alert-danger']
                        }
                    }
                });
                Asset.createElement('cardCvv', 'cvv', {
                    placeholder: 'CVV',
                    styles: {
                        base: {
                            styles: {
                                'color': 'black',
                                'width': '100%',
                                'border-color': 'cccccc',
                            },
                            classes: ['form-control', 'form-control-lg']
                        },
                        error: {
                            styles: {
                                'border-color': 'red',
                            },
                            classes: ['alert-danger']
                        }
                    }
                });
                Asset.createElement('cardName', 'nameoncard', {
                    placeholder: 'Name on card',
                    styles: {
                        base: {
                            styles: {
                                'color': 'black',
                                'width': '100%',
                                'border-color': 'cccccc',
                            },
                            classes: ['form-control', 'form-control-lg']
                        },
                        error: {
                            styles: {
                                'border-color': 'red',
                            },
                            classes: ['alert-danger']
                        }
                    }
                });
            });
            Asset.addEventListener('change', function (e) {
                if (e.detail.error) {
                    var text = getErrorMessage(e.detail.errorType);
                    document.getElementById("error_" + e.detail.type).innerText = text;
                } else {
                    document.getElementById("error_" + e.detail.type).innerText = '';
                }
            });
            Asset.addEventListener('submit', function (e) {
                if (e.detail) {
                    if (e.detail.validationError) {
                        document.getElementById("processing").style.display = "none";
                        document.getElementById("carddetails").style.display = "block";
                        for (var type in e.detail.typesError) {
                            var text = getErrorMessage(e.detail.responseMessage);
                            document.getElementById("error_" + type).innerText = text;
                        }
                    } else if (e.detail.errorCode == 0) {
                        if (e.detail.htmlIframeForm) {
                            // var e = document.createElement('div');
                            // e.innerHTML = e.detail.htmlIframeForm;
                            // document.body.appendChild(e);
                            var form = document.createElement('div');
                            form.innerHTML = e.detail.htmlIframeForm;
                            document.body.appendChild(form);
                            document.forms['AssetPayments_form_submit'].submit();

                        } else if (e.detail.transactionStateCode == 1) {
                            document.getElementById("orderId").innerText = e.detail.transactionId;
                            document.getElementById("processing").style.display = "none";
                            document.getElementById("successmessage").style.display = "block";
                        } else {
                            document.getElementById("orderId").innerText = e.detail.transactionId;
                            document.getElementById("errorMessage").innerText = e.detail.responseMessage;
                            document.getElementById("processing").style.display = "none";
                            document.getElementById("failedmessage").style.display = "block";
                        }
                    } else {
                        document.getElementById("errorMessage").innerText = e.detail.errorCode == null ? e.detail.responseMessage : e.detail.errorCode;
                        document.getElementById("orderId").innerText = e.detail.transactionId;
                        document.getElementById("processing").style.display = "none";
                        document.getElementById("failedmessage").style.display = "block";
                    }
                }
            });
            function getErrorMessage(errorType) {
                var text = 'This field can not be empty';
                if (errorType == 'card') { // errorType ['empty', 'card', 'expiry', 'cvv']
                    text = 'Please enter a valid credit card number';
                } else if (errorType == 'expiry') {
                    text = 'Please enter a valid expiration date';
                } else if (errorType == 'cvv') {
                    text = 'Please enter a valid CVV';
                }
                return text;
            };

            var form = document.getElementById('paymentform');
            form.addEventListener("submit", myFunction);
        }

        function myFunction(e) {
            e.preventDefault();
            Asset.createPayment();
            document.getElementById("carddetails").style.display = "none";
            document.getElementById("processing").style.display = "block";
        };
    </script>
</body>
</html>
